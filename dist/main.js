/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => {
  // webpackBootstrap
  /******/ var __webpack_modules__ = {
    /***/ "./src/js/quiz.js":
      /*!*****************!*\
  !*** ./src/js/quiz.js ***!
  \*****************/
      /***/ () => {
        eval(
          '(function() {\r\n    var quizzes = {\r\n        ktmt: [\r\n            // các câu hỏi hiện tại...\r\n            {\r\n                type: "multiple_choice",\r\n                question: "Thanh ghi nào có giá trị cố định, không thay đổi trong khi chạy chương trình?",\r\n                answers: ["$at", "$zero", "$sp", "hi", "pc"],\r\n                correctAnswer: 2\r\n            },\r\n            {\r\n                type: "multiple_choice_multiple_answers",\r\n                question: "Trong ứng dụng Mars, khi dịch từ mã nguồn sang mã cơ bản, những công việc nào sau đây sẽ được thực hiện? (có thể chọn nhiều đáp án)",\r\n                answers: ["Chuyển các nhãn thành địa chỉ", "Chuyển các thanh ghi từ tên sang số hiệu", "Chuyển các hằng số từ hệ thập phân sang hệ thập lục phân", "Thay thế giả lệnh bằng các lệnh cơ bản"],\r\n                correctAnswer: [0, 1, 3] // Giả sử tất cả các đáp án đều đúng\r\n            },\r\n            {\r\n                type: "fill_in",\r\n                question: "Giá trị của thanh ghi $a0 sau khi đoạn chương trình dưới được thực hiện là bao nhiêu? (điền số ở hệ thập phân).\\n.text\\n\\tli $a0, 0\\n\\tli $a1, 0\\n\\tli $a2, 5\\nl1:\\n\\tbeq $a1, $a2, end\\n\\tadd $at, $a1, $s1\\n\\tadd $a0, $a0, $at\\n\\taddi $ai, $ai, 1\\n\\tj l1\\nend:",\r\n                correctAnswer: "(?)" // Thay "Đáp án" bằng đáp án thực tế của bạn\r\n            },\r\n            {\r\n                type: "fill_in",\r\n                question: "Đoạn chương trình sau in chuỗi ký tự gì ra màn hình Run I/O?\\n.text\\n\\tli $a1, 0\\n\\tli $a2, 5\\n\\tli $v0, 11\\nl1:\\n\\tbeq $a1, $a2, end\\n\\taddi $a0, $a1, 49\\n\\tsyscall \\n\\taddi $a1, $a1, 1\\n\\tj li\\nend:",\r\n                correctAnswer: "(?)" // Thay "Đáp án" bằng đáp án thực tế của bạn\r\n            },\r\n            {\r\n                type: "fill_in",\r\n                question: "Dịch lệnh sau sang mã máy (viết dưới dạng số hexa có tiền tố 0x đứng trước)\\naddi $a1, $a1, 1",\r\n                correctAnswer: "KTMT" // Thay "Đáp án" bằng đáp án thực tế của bạn\r\n            },\r\n            {\r\n                type: "fill_in",\r\n                question: "TEst Q\\naddi $a1, $a1, 1",\r\n                correctAnswer: "KTMt" // Thay "Đáp án" bằng đáp án thực tế của bạn\r\n            },\r\n            // thêm thêm câu hỏi...\r\n        ],\r\n        \r\n    };\r\n    var currentQuestionIndex = 0;\r\n    var userAnswers = null;\r\n    var currentQuiz = null;\r\n\r\n    var urlParams = new URLSearchParams(window.location.search);\r\n    var quizId = urlParams.get(\'quiz\');\r\n    if (quizId && quizzes[quizId]) {\r\n        currentQuiz = quizzes[quizId];\r\n        userAnswers = new Array(currentQuiz.length).fill(null); // Khởi tạo userAnswers sau khi currentQuiz đã được khởi tạo\r\n        displayQuiz();\r\n    }\r\n    var time = 120 * 60;\r\n\r\n    function startCountdown() {\r\n        var countdownElement = document.getElementById(\'countdown\');\r\n\r\n        var interval = setInterval(function() {\r\n            var hours = Math.floor(time / 3600);\r\n            var minutes = Math.floor((time % 3600) / 60);\r\n            var seconds = time % 60;\r\n\r\n            countdownElement.textContent = \r\n                (hours < 10 ? \'0\' + hours : hours) + \':\' +\r\n                (minutes < 10 ? \'0\' + minutes : minutes) + \':\' +\r\n                (seconds < 10 ? \'0\' + seconds : seconds);\r\n\r\n            time--;\r\n\r\n            if (time < 0) {\r\n                clearInterval(interval);\r\n                // Thực hiện hành động khi hết thời gian, ví dụ: tự động nộp bài\r\n                // submitQuiz();\r\n            }\r\n        }, 1000);\r\n    }\r\n\r\n    // Bắt đầu đếm ngược khi trang web tải xong\r\n    window.onload = startCountdown;\r\n    // Kết thúc đoạn mã đếm ngược thời gian\r\n    function displayQuiz() {\r\n        var quizDiv = document.getElementById("quiz");\r\n        quizDiv.innerHTML = "";\r\n        var question = currentQuiz[currentQuestionIndex];\r\n        var questionDiv = document.createElement("div");\r\n        questionDiv.style.marginBottom = "20px"; // Tạo khoảng cách giữa các cụm câu hỏi-đáp án\r\n        var questionText = document.createElement("p");\r\n        questionText.textContent = (currentQuestionIndex + 1) + ". " + question.question.split("\\n")[0]; // Thêm số thứ tự cho câu hỏi\r\n        questionText.style.fontWeight = "bold"; // Làm cho câu hỏi in đậm\r\n        questionDiv.appendChild(questionText);\r\n        if (question.question.includes("\\n")) {\r\n            var codeBlock = document.createElement("pre");\r\n            var code = document.createElement("code");\r\n            code.textContent = question.question.split("\\n").slice(1).join("\\n");\r\n            codeBlock.appendChild(code);\r\n            questionDiv.appendChild(codeBlock);\r\n        }\r\n        if (question.type === "multiple_choice") {\r\n            for (var j = 0; j < question.answers.length; j++) {\r\n                var answer = question.answers[j];\r\n                var answerInput = document.createElement("input");\r\n                answerInput.type = "radio";\r\n                answerInput.name = "question" + currentQuestionIndex;\r\n                answerInput.value = j;\r\n                if (userAnswers[currentQuestionIndex] == j) {\r\n                    answerInput.checked = true;\r\n                }\r\n                var answerLabelPrefix = document.createElement("label");\r\n                answerLabelPrefix.textContent = String.fromCharCode(65 + j) + "."; // Thêm dấu cách sau dấu chấm\r\n                answerLabelPrefix.className = "answer-prefix";\r\n                var answerLabel = document.createElement("label");\r\n                answerLabel.textContent = answer;\r\n                questionDiv.appendChild(answerInput);\r\n                questionDiv.appendChild(answerLabelPrefix);\r\n                questionDiv.appendChild(answerLabel);\r\n                questionDiv.appendChild(document.createElement("br")); // Thêm một dòng mới sau mỗi đáp án\r\n                \r\n            }\r\n        } else if (question.type === "multiple_choice_multiple_answers") {\r\n            for (var j = 0; j < question.answers.length; j++) {\r\n                var answer = question.answers[j];\r\n                var answerInput = document.createElement("input");\r\n                answerInput.type = "checkbox";\r\n                answerInput.name = "question" + currentQuestionIndex;\r\n                answerInput.value = j;\r\n                if (userAnswers[currentQuestionIndex] && userAnswers[currentQuestionIndex].includes(j)) {\r\n                    answerInput.checked = true;\r\n                }\r\n                var answerLabelPrefix = document.createElement("label");\r\n                answerLabelPrefix.textContent = String.fromCharCode(65 + j) + "."; // Thêm dấu cách sau dấu chấm\r\n                answerLabelPrefix.className = "answer-prefix";\r\n                var answerLabel = document.createElement("label");\r\n                answerLabel.textContent = answer;\r\n                questionDiv.appendChild(answerInput);\r\n                questionDiv.appendChild(answerLabelPrefix);\r\n                questionDiv.appendChild(answerLabel);\r\n                questionDiv.appendChild(document.createElement("br")); // Thêm một dòng mới sau mỗi đáp án                \r\n            }\r\n        } else if (question.type === "fill_in") {\r\n            var answerInput = document.createElement("input");\r\n            answerInput.type = "text";\r\n            answerInput.name = "question" + currentQuestionIndex;\r\n            answerInput.value = userAnswers[currentQuestionIndex] || "";\r\n            questionDiv.appendChild(answerInput);\r\n        }\r\n        quizDiv.appendChild(questionDiv);\r\n    \r\n        // Thêm danh sách câu hỏi ở bên trái\r\n        var questionListDiv = document.getElementById("questionList");\r\n        questionListDiv.innerHTML = "";\r\n        questionListDiv.style.border = "3px solid #007BFF"; // Thay đổi màu viền\r\n        questionListDiv.style.padding = "10px"; // Thêm padding cho khung\r\n        questionListDiv.style.height = "330px"; // Đặt chiều cao cố định\r\n        questionListDiv.style.overflow = "auto"; // Hiển thị thanh cuộn nếu cần\r\n        questionListDiv.style.borderRadius = "20px"; // Bo góc của khung\r\n        questionListDiv.style.boxShadow = "0 0 10px rgba(0,0,0,0.1)"; // Thêm hiệu ứng đổ bóng\r\n        for (var i = 0; i < currentQuiz.length; i++) {\r\n            var questionButton = document.createElement("button");\r\n            questionButton.textContent = (i + 1).toString(); // Hiển thị chỉ số câu hỏi thay vì "Câu " + (i + 1)\r\n            questionButton.className = "btn btn-primary m-1";\r\n            questionButton.onclick = function(index) {\r\n                return function() {\r\n                    saveAnswer(currentQuestionIndex);\r\n                    currentQuestionIndex = index;\r\n                    displayQuiz();\r\n                }\r\n            }(i);\r\n            questionListDiv.appendChild(questionButton);\r\n        }\r\n    }  \r\n    function saveAnswer(index) {\r\n        var answerInputs = document.getElementsByName("question" + index);\r\n        if (currentQuiz[index].type === "multiple_choice") {\r\n            for (var j = 0; j < answerInputs.length; j++) {\r\n                if (answerInputs[j].checked) {\r\n                    userAnswers[index] = j;\r\n                    break;\r\n                }\r\n            }\r\n        } else if (currentQuiz[index].type === "multiple_choice_multiple_answers") {\r\n            userAnswers[index] = [];\r\n            for (var j = 0; j < answerInputs.length; j++) {\r\n                if (answerInputs[j].checked) {\r\n                    userAnswers[index].push(j);\r\n                }\r\n            }\r\n        } else if (currentQuiz[index].type === "fill_in") {\r\n            userAnswers[index] = answerInputs[0].value;\r\n        }\r\n    }\r\n    function showConfirmModal(message, confirmCallback) {\r\n        var modal = document.getElementById("confirmModal");\r\n        var span = document.getElementsByClassName("close")[0];\r\n        var yesButton = document.getElementById("confirmModalYes");\r\n        var noButton = document.getElementById("confirmModalNo");\r\n        document.getElementById("confirmModalText").innerText = message;\r\n        modal.style.display = "block";\r\n        yesButton.onclick = function() {\r\n            confirmCallback();\r\n            modal.style.display = "none";\r\n        }\r\n        noButton.onclick = function() {\r\n            modal.style.display = "none";\r\n        }\r\n    }\r\n    \r\n    function showWarningModal(message, confirmCallback) {\r\n        var modal = document.getElementById("warningModal");\r\n        var span = document.getElementsByClassName("close")[1];\r\n        var yesButton = document.getElementById("warningModalYes");\r\n        var noButton = document.getElementById("warningModalNo");\r\n        document.getElementById("warningModalText").innerText = message;\r\n        modal.style.display = "block";\r\n        yesButton.onclick = function() {\r\n            confirmCallback();\r\n            modal.style.display = "none";\r\n        }\r\n        noButton.onclick = function() {\r\n            modal.style.display = "none";\r\n        }\r\n    }\r\n    function submitQuiz() {\r\n        saveAnswer(currentQuestionIndex); // Lưu câu trả lời cuối cùng\r\n    \r\n        var score = 0;\r\n        var result = [];\r\n        var unanswered = false;\r\n        for (var i = 0; i < currentQuiz.length; i++) {\r\n            var question = currentQuiz[i];\r\n            var answer = userAnswers[i];\r\n            if (answer === null || answer === "" || (Array.isArray(answer) && answer.length === 0)) {\r\n                unanswered = true;\r\n                console.log("Câu hỏi " + (i + 1) + " chưa được trả lời.");\r\n            }\r\n            if (Array.isArray(answer) && Array.isArray(question.correctAnswer)) {\r\n                if (answer.length === question.correctAnswer.length && answer.every((v, k) => question.correctAnswer.includes(v))) {\r\n                    score++;\r\n                }\r\n            } else if (answer === question.correctAnswer) { // Sử dụng toán tử === thay vì ==\r\n                score++;\r\n            }\r\n            result.push({\r\n                question: question.question,\r\n                correctAnswer: question.correctAnswer,\r\n                userAnswer: answer !== null ? answer : null\r\n            });\r\n        }\r\n    \r\n        if (unanswered) {\r\n            showWarningModal("Còn câu hỏi chưa được trả lời! Bạn vẫn muốn nộp bài?", function() {\r\n                // Nộp bài dù có câu chưa trả lời\r\n                console.log("Nộp bài dù có câu chưa trả lời");\r\n                localStorage.setItem(\'myUniqueKey\', JSON.stringify({ result: result, score: score }));\r\n                window.location.href = \'src/html/result.html\'; // Thay thế hàm showModal\r\n            });\r\n        } else {\r\n            showConfirmModal("Bạn đã hoàn thành tất cả câu hỏi. Bạn có chắc chắn muốn nộp bài?", function() {\r\n                // Nộp bài\r\n                console.log("Nộp bài");\r\n                localStorage.setItem(\'myUniqueKey\', JSON.stringify({ result: result, score: score }));\r\n                window.location.href = \'src/html/result.html\'; // Thay thế hàm showModal\r\n            });\r\n        }\r\n    }\r\n    \r\n    \r\n\r\n    var urlParams = new URLSearchParams(window.location.search);\r\n    var quizId = urlParams.get(\'quiz\');\r\n    if (quizId && quizzes[quizId]) {\r\n        currentQuiz = quizzes[quizId];\r\n        displayQuiz();\r\n    }\r\n\r\n    // Expose the functions to the global scope\r\n    window.displayQuiz = displayQuiz;\r\n    window.submitQuiz = submitQuiz;\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://hustexam-1/./src/js/quiz.js?'
        );

        /***/
      },

    /******/
  };
  /************************************************************************/
  /******/
  /******/ // startup
  /******/ // Load entry module and return exports
  /******/ // This entry module can't be inlined because the eval devtool is used.
  /******/ var __webpack_exports__ = {};
  /******/ __webpack_modules__["./src/js/quiz.js"]();
  /******/
  /******/
})();
