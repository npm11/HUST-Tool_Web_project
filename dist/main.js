!function(){var e={ktmt:[{type:"multiple_choice",question:"Thanh ghi nào có giá trị cố định, không thay đổi trong khi chạy chương trình?",answers:["$at","$zero","$sp","hi","pc"],correctAnswer:2},{type:"multiple_choice_multiple_answers",question:"Trong ứng dụng Mars, khi dịch từ mã nguồn sang mã cơ bản, những công việc nào sau đây sẽ được thực hiện? (có thể chọn nhiều đáp án)",answers:["Chuyển các nhãn thành địa chỉ","Chuyển các thanh ghi từ tên sang số hiệu","Chuyển các hằng số từ hệ thập phân sang hệ thập lục phân","Thay thế giả lệnh bằng các lệnh cơ bản"],correctAnswer:[0,1,3]},{type:"fill_in",question:"Giá trị của thanh ghi $a0 sau khi đoạn chương trình dưới được thực hiện là bao nhiêu? (điền số ở hệ thập phân).\n.text\n\tli $a0, 0\n\tli $a1, 0\n\tli $a2, 5\nl1:\n\tbeq $a1, $a2, end\n\tadd $at, $a1, $s1\n\tadd $a0, $a0, $at\n\taddi $ai, $ai, 1\n\tj l1\nend:",correctAnswer:"(?)"},{type:"fill_in",question:"Đoạn chương trình sau in chuỗi ký tự gì ra màn hình Run I/O?\n.text\n\tli $a1, 0\n\tli $a2, 5\n\tli $v0, 11\nl1:\n\tbeq $a1, $a2, end\n\taddi $a0, $a1, 49\n\tsyscall \n\taddi $a1, $a1, 1\n\tj li\nend:",correctAnswer:"(?)"},{type:"fill_in",question:"Dịch lệnh sau sang mã máy (viết dưới dạng số hexa có tiền tố 0x đứng trước)\naddi $a1, $a1, 1",correctAnswer:"KTMT"},{type:"fill_in",question:"TEst Q\naddi $a1, $a1, 1",correctAnswer:"KTMt"}]},n=0,t=null,l=null;(i=new URLSearchParams(window.location.search).get("quiz"))&&e[i]&&(l=e[i],t=new Array(l.length).fill(null),c());var i,a=7200;function c(){var e=document.getElementById("quiz");e.innerHTML="";var i=l[n],a=document.createElement("div");a.style.marginBottom="20px";var r=document.createElement("p");if(r.textContent=n+1+". "+i.question.split("\n")[0],r.style.fontWeight="bold",a.appendChild(r),i.question.includes("\n")){var s=document.createElement("pre"),d=document.createElement("code");d.textContent=i.question.split("\n").slice(1).join("\n"),s.appendChild(d),a.appendChild(s)}if("multiple_choice"===i.type)for(var h=0;h<i.answers.length;h++){var u=i.answers[h];(y=document.createElement("input")).type="radio",y.name="question"+n,y.value=h,t[n]==h&&(y.checked=!0),(m=document.createElement("label")).textContent=String.fromCharCode(65+h)+".",m.className="answer-prefix",(p=document.createElement("label")).textContent=u,a.appendChild(y),a.appendChild(m),a.appendChild(p),a.appendChild(document.createElement("br"))}else if("multiple_choice_multiple_answers"===i.type)for(h=0;h<i.answers.length;h++){var m,p;u=i.answers[h],(y=document.createElement("input")).type="checkbox",y.name="question"+n,y.value=h,t[n]&&t[n].includes(h)&&(y.checked=!0),(m=document.createElement("label")).textContent=String.fromCharCode(65+h)+".",m.className="answer-prefix",(p=document.createElement("label")).textContent=u,a.appendChild(y),a.appendChild(m),a.appendChild(p),a.appendChild(document.createElement("br"))}else if("fill_in"===i.type){var y;(y=document.createElement("input")).type="text",y.name="question"+n,y.value=t[n]||"",a.appendChild(y)}e.appendChild(a);var g=document.getElementById("questionList");g.innerHTML="",g.style.border="3px solid #007BFF",g.style.padding="10px",g.style.height="330px",g.style.overflow="auto",g.style.borderRadius="20px",g.style.boxShadow="0 0 10px rgba(0,0,0,0.1)";for(var f=0;f<l.length;f++){var w=document.createElement("button");w.textContent=(f+1).toString(),w.className="btn btn-primary m-1",w.onclick=function(e){return function(){o(n),n=e,c()}}(f),g.appendChild(w)}}function o(e){var n=document.getElementsByName("question"+e);if("multiple_choice"===l[e].type){for(var i=0;i<n.length;i++)if(n[i].checked){t[e]=i;break}}else if("multiple_choice_multiple_answers"===l[e].type)for(t[e]=[],i=0;i<n.length;i++)n[i].checked&&t[e].push(i);else"fill_in"===l[e].type&&(t[e]=n[0].value)}window.onload=function(){var e=document.getElementById("countdown"),n=setInterval((function(){var t=Math.floor(a/3600),l=Math.floor(a%3600/60),i=a%60;e.textContent=(t<10?"0"+t:t)+":"+(l<10?"0"+l:l)+":"+(i<10?"0"+i:i),--a<0&&clearInterval(n)}),1e3)},(i=new URLSearchParams(window.location.search).get("quiz"))&&e[i]&&(l=e[i],c()),window.displayQuiz=c,window.submitQuiz=function(){o(n);for(var e,i,a,c,r=0,s=[],d=!1,h=0;h<l.length;h++){var u=l[h],m=t[h];(null===m||""===m||Array.isArray(m)&&0===m.length)&&(d=!0,console.log("Câu hỏi "+(h+1)+" chưa được trả lời.")),Array.isArray(m)&&Array.isArray(u.correctAnswer)?m.length===u.correctAnswer.length&&m.every(((e,n)=>u.correctAnswer.includes(e)))&&r++:m===u.correctAnswer&&r++,s.push({question:u.question,correctAnswer:u.correctAnswer,userAnswer:null!==m?m:null})}d?("Còn câu hỏi chưa được trả lời! Bạn vẫn muốn nộp bài?",e=function(){console.log("Nộp bài dù có câu chưa trả lời"),localStorage.setItem("myUniqueKey",JSON.stringify({result:s,score:r})),window.location.href="result.html"},i=document.getElementById("warningModal"),document.getElementsByClassName("close")[1],a=document.getElementById("warningModalYes"),c=document.getElementById("warningModalNo"),document.getElementById("warningModalText").innerText="Còn câu hỏi chưa được trả lời! Bạn vẫn muốn nộp bài?",i.style.display="block",a.onclick=function(){e(),i.style.display="none"},c.onclick=function(){i.style.display="none"}):function(e,n){var t=document.getElementById("confirmModal"),l=(document.getElementsByClassName("close")[0],document.getElementById("confirmModalYes")),i=document.getElementById("confirmModalNo");document.getElementById("confirmModalText").innerText="Bạn đã hoàn thành tất cả câu hỏi. Bạn có chắc chắn muốn nộp bài?",t.style.display="block",l.onclick=function(){console.log("Nộp bài"),localStorage.setItem("myUniqueKey",JSON.stringify({result:s,score:r})),window.location.href="result.html",t.style.display="none"},i.onclick=function(){t.style.display="none"}}()}}();